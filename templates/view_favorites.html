<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Favorites</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('.remove-favorite').on('click', function(event) {
                event.preventDefault();
                var button = $(this);
                var flashcardId = button.data('flashcard-id');
                var tableName = button.data('table-name');

                $.ajax({
                    url: "{{ url_for('remove_from_favorites', table_name='') }}" + tableName + "/" + flashcardId,
                    method: 'POST',
                    success: function(response) {
                        if (response.success) {
                            button.closest('li').remove();
                        } else {
                            alert(response.message);
                        }
                    }
                });
            });
        });
    </script>
</head>
<body>
    <h1>Your Favorite Flashcards</h1>
    <ul>
        {% for flashcard in favorite_flashcards %}
            <li>
                <strong>Table:</strong> {{ flashcard.table_name }}<br>
                <strong>Question:</strong> {{ flashcard.question }}<br>
                <strong>Explanation:</strong> {{ flashcard.explanation }}<br>
                <button class="remove-favorite" data-flashcard-id="{{ flashcard.flashcard_id }}" data-table-name="{{ flashcard.table_name }}">Remove from Favorites</button>
            </li>
        {% endfor %}
    </ul>
</body>
</html>

